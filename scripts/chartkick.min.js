/*!
 * Chartkick.js
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * v4.0.4
 * MIT License
 */
!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global="undefined"!=typeof globalThis?globalThis:global||self).Chartkick=factory()}(this,(function(){"use strict";function isArray(variable){return"[object Array]"===Object.prototype.toString.call(variable)}function isFunction(variable){return variable instanceof Function}function isPlainObject(variable){return"[object Object]"===Object.prototype.toString.call(variable)&&!isFunction(variable)&&variable instanceof Object}function extend(target,source){var key;for(key in source)"__proto__"!==key&&(isPlainObject(source[key])||isArray(source[key])?(isPlainObject(source[key])&&!isPlainObject(target[key])&&(target[key]={}),isArray(source[key])&&!isArray(target[key])&&(target[key]=[]),extend(target[key],source[key])):void 0!==source[key]&&(target[key]=source[key]))}function merge(obj1,obj2){var target={};return extend(target,obj1),extend(target,obj2),target}var DATE_PATTERN=/^(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)$/i;function negativeValues(series){var i,j,data;for(i=0;i<series.length;i++)for(data=series[i].data,j=0;j<data.length;j++)if(data[j][1]<0)return!0;return!1}function toStr(n){return""+n}function toFloat(n){return parseFloat(n)}function toDate(n){var matches,year,month,day;if("object"!=typeof n)if("number"==typeof n)n=new Date(1e3*n);else{if(matches=(n=toStr(n)).match(DATE_PATTERN))return year=parseInt(matches[1],10),month=parseInt(matches[3],10)-1,day=parseInt(matches[5],10),new Date(year,month,day);var str=n.replace(/ /,"T").replace(" ","").replace("UTC","Z");n=new Date(Date.parse(str)||n)}return n}function toArr(n){if(!isArray(n)){var arr=[],i;for(i in n)n.hasOwnProperty(i)&&arr.push([i,n[i]]);n=arr}return n}function jsOptionsFunc(defaultOptions,hideLegend,setTitle,setMin,setMax,setStacked,setXtitle,setYtitle){return function(chart,opts,chartOptions){var series=chart.data,options=merge({},defaultOptions);return options=merge(options,chartOptions||{}),(chart.singleSeriesFormat||"legend"in opts)&&hideLegend(options,opts.legend,chart.singleSeriesFormat),opts.title&&setTitle(options,opts.title),"min"in opts?setMin(options,opts.min):negativeValues(series)||setMin(options,0),opts.max&&setMax(options,opts.max),"stacked"in opts&&setStacked(options,opts.stacked),opts.colors&&(options.colors=opts.colors),opts.xtitle&&setXtitle(options,opts.xtitle),opts.ytitle&&setYtitle(options,opts.ytitle),options=merge(options,opts.library||{})}}function sortByTime(a,b){return a[0].getTime()-b[0].getTime()}function sortByNumberSeries(a,b){return a[0]-b[0]}function sortByNumber(a,b){return a-b}function isMinute(d){return 0===d.getMilliseconds()&&0===d.getSeconds()}function isHour(d){return isMinute(d)&&0===d.getMinutes()}function isDay(d){return isHour(d)&&0===d.getHours()}function isWeek(d,dayOfWeek){return isDay(d)&&d.getDay()===dayOfWeek}function isMonth(d){return isDay(d)&&1===d.getDate()}function isYear(d){return isMonth(d)&&0===d.getMonth()}function isDate(obj){return!isNaN(toDate(obj))&&toStr(obj).length>=6}function isNumber(obj){return"number"==typeof obj}var byteSuffixes=["bytes","KB","MB","GB","TB","PB","EB"];function formatValue(pre,value,options,axis){pre=pre||"",options.prefix&&(value<0&&(value*=-1,pre+="-"),pre+=options.prefix);var suffix=options.suffix||"",precision=options.precision,round=options.round;if(options.byteScale){var suffixIdx,baseValue=axis?options.byteScale:value;baseValue>=0x1000000000000000?(value/=0x1000000000000000,suffixIdx=6):baseValue>=0x4000000000000?(value/=0x4000000000000,suffixIdx=5):baseValue>=1099511627776?(value/=1099511627776,suffixIdx=4):baseValue>=1073741824?(value/=1073741824,suffixIdx=3):baseValue>=1048576?(value/=1048576,suffixIdx=2):baseValue>=1024?(value/=1024,suffixIdx=1):suffixIdx=0,void 0===precision&&void 0===round&&(value>=1023.5&&suffixIdx<byteSuffixes.length-1&&(value=1,suffixIdx+=1),precision=value>=1e3?4:3),suffix=" "+byteSuffixes[suffixIdx]}if(void 0!==precision&&void 0!==round)throw Error("Use either round or precision, not both");if(!axis&&(void 0!==precision&&(value=value.toPrecision(precision),options.zeros||(value=parseFloat(value))),void 0!==round))if(round<0){var num=Math.pow(10,-1*round);value=parseInt((1*value/num).toFixed(0))*num}else value=value.toFixed(round),options.zeros||(value=parseFloat(value));if(options.thousands||options.decimal){var parts=(value=toStr(value)).split(".");value=parts[0],options.thousands&&(value=value.replace(/\B(?=(\d{3})+(?!\d))/g,options.thousands)),parts.length>1&&(value+=(options.decimal||".")+parts[1])}return pre+value+suffix}function seriesOption(chart,series,option){return option in series?series[option]:option in chart.options?chart.options[option]:null}function allZeros(data){var i,j,d;for(i=0;i<data.length;i++)for(d=data[i].data,j=0;j<d.length;j++)if(0!=d[j][1])return!1;return!0}var baseOptions={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},defaultOptions$2={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},defaultColors=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"],hideLegend$2=function(options,legend,hideLegend){void 0!==legend?(options.plugins.legend.display=!!legend,legend&&!0!==legend&&(options.plugins.legend.position=legend)):hideLegend&&(options.plugins.legend.display=!1)},setTitle$2=function(options,title){options.plugins.title.display=!0,options.plugins.title.text=title},setMin$2=function(options,min){null!==min&&(options.scales.y.min=toFloat(min))},setMax$2=function(options,max){options.scales.y.max=toFloat(max)},setBarMin$1=function(options,min){null!==min&&(options.scales.x.min=toFloat(min))},setBarMax$1=function(options,max){options.scales.x.max=toFloat(max)},setStacked$2=function(options,stacked){options.scales.x.stacked=!!stacked,options.scales.y.stacked=!!stacked},setXtitle$2=function(options,title){options.scales.x.title.display=!0,options.scales.x.title.text=title},setYtitle$2=function(options,title){options.scales.y.title.display=!0,options.scales.y.title.text=title},addOpacity=function(hex,opacity){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?"rgba("+parseInt(result[1],16)+", "+parseInt(result[2],16)+", "+parseInt(result[3],16)+", "+opacity+")":hex},notnull=function(x){return null!=x},setLabelSize=function(chart,data,options){var maxLabelSize=Math.ceil(chart.element.offsetWidth/4/data.labels.length);maxLabelSize>25?maxLabelSize=25:maxLabelSize<10&&(maxLabelSize=10),options.scales.x.ticks.callback||(options.scales.x.ticks.callback=function(value){return(value=toStr(this.getLabelForValue(value))).length>maxLabelSize?value.substring(0,maxLabelSize-2)+"...":value})},setFormatOptions$1=function(chart,options,chartType){var formatOptions={prefix:chart.options.prefix,suffix:chart.options.suffix,thousands:chart.options.thousands,decimal:chart.options.decimal,precision:chart.options.precision,round:chart.options.round,zeros:chart.options.zeros};if(chart.options.bytes){var series=chart.data;"pie"===chartType&&(series=[{data:series}]);for(var max=0,i=0;i<series.length;i++)for(var s=series[i],j=0;j<s.data.length;j++)s.data[j][1]>max&&(max=s.data[j][1]);for(var scale=1;max>=1024;)scale*=1024,max/=1024;formatOptions.byteScale=scale}if("pie"!==chartType){var axis=options.scales.y;"bar"===chartType&&(axis=options.scales.x),formatOptions.byteScale&&(axis.ticks.stepSize||(axis.ticks.stepSize=formatOptions.byteScale/2),axis.ticks.maxTicksLimit||(axis.ticks.maxTicksLimit=4)),axis.ticks.callback||(axis.ticks.callback=function(value){return formatValue("",value,formatOptions,!0)})}if(!options.plugins.tooltip.callbacks.label)if("scatter"===chartType)options.plugins.tooltip.callbacks.label=function(context){var label=context.dataset.label||"";return label&&(label+=": "),label+"("+context.label+", "+context.formattedValue+")"};else if("bubble"===chartType)options.plugins.tooltip.callbacks.label=function(context){var label=context.dataset.label||"";label&&(label+=": ");var dataPoint=context.raw;return label+"("+dataPoint.x+", "+dataPoint.y+", "+dataPoint.v+")"};else if("pie"===chartType)options.plugins.tooltip.callbacks.label=function(context){var dataLabel=context.label,value=": ";return isArray(dataLabel)?(dataLabel=dataLabel.slice())[0]+=": ":dataLabel+=": ",formatValue(dataLabel,context.parsed,formatOptions)};else{var valueLabel="bar"===chartType?"x":"y";options.plugins.tooltip.callbacks.label=function(context){if(null!==context.parsed[valueLabel]){var label=context.dataset.label||"";return label&&(label+=": "),formatValue(label,context.parsed[valueLabel],formatOptions)}}}},jsOptions$2=jsOptionsFunc(merge(baseOptions,defaultOptions$2),hideLegend$2,setTitle$2,setMin$2,setMax$2,setStacked$2,setXtitle$2,setYtitle$2),createDataTable=function(chart,options,chartType){var datasets=[],labels=[],colors=chart.options.colors||defaultColors,day=!0,week=!0,dayOfWeek,month=!0,year=!0,hour=!0,minute=!0,series=chart.data,max=0;if("bubble"===chartType)for(var i$1=0;i$1<series.length;i$1++)for(var s$1=series[i$1],j$1=0;j$1<s$1.data.length;j$1++)s$1.data[j$1][2]>max&&(max=s$1.data[j$1][2]);var i,j,s,d,key,rows=[],rows2=[],color,backgroundColor;if("bar"===chartType||"column"===chartType||"number"!==chart.xtype&&"bubble"!==chart.xtype){var sortedLabels=[],value,k;for(i=0;i<series.length;i++)for(s=series[i],j=0;j<s.data.length;j++)d=s.data[j],rows[key="datetime"==chart.xtype?d[0].getTime():d[0]]||(rows[key]=new Array(series.length)),rows[key][i]=toFloat(d[1]),-1===sortedLabels.indexOf(key)&&sortedLabels.push(key);for("datetime"!==chart.xtype&&"number"!==chart.xtype||sortedLabels.sort(sortByNumber),j=0;j<series.length;j++)rows2.push([]);for(k=0;k<sortedLabels.length;k++)for(i=sortedLabels[k],"datetime"===chart.xtype?(value=new Date(toFloat(i)),day=day&&isDay(value),dayOfWeek||(dayOfWeek=value.getDay()),week=week&&isWeek(value,dayOfWeek),month=month&&isMonth(value),year=year&&isYear(value),hour=hour&&isHour(value),minute=minute&&isMinute(value)):value=i,labels.push(value),j=0;j<series.length;j++)rows2[j].push(void 0===rows[i][j]?null:rows[i][j])}else for(var i$2=0;i$2<series.length;i$2++){for(var s$2=series[i$2],d$1=[],j$2=0;j$2<s$2.data.length;j$2++){var point={x:toFloat(s$2.data[j$2][0]),y:toFloat(s$2.data[j$2][1])};"bubble"===chartType&&(point.r=20*toFloat(s$2.data[j$2][2])/max,point.v=s$2.data[j$2][2]),d$1.push(point)}rows2.push(d$1)}for(i=0;i<series.length;i++){if(s=series[i],!chart.options.colors||!chart.singleSeriesFormat||"bar"!==chartType&&"column"!==chartType||s.color||!isArray(chart.options.colors)||isArray(chart.options.colors[0]))color=s.color||colors[i],backgroundColor="line"!==chartType?addOpacity(color,.5):color;else{color=colors,backgroundColor=[];for(var j$3=0;j$3<colors.length;j$3++)backgroundColor[j$3]=addOpacity(color[j$3],.5)}var dataset={label:s.name||"",data:rows2[i],fill:"area"===chartType,borderColor:color,backgroundColor:backgroundColor,borderWidth:2},pointChart="line"===chartType||"area"===chartType||"scatter"===chartType||"bubble"===chartType,curve,points;pointChart&&(dataset.pointBackgroundColor=color,dataset.pointHoverBackgroundColor=color,dataset.pointHitRadius=50),"bubble"===chartType&&(dataset.pointBackgroundColor=backgroundColor,dataset.pointHoverBackgroundColor=backgroundColor,dataset.pointHoverBorderWidth=2),s.stack&&(dataset.stack=s.stack),!1===seriesOption(chart,s,"curve")?dataset.tension=0:pointChart&&(dataset.tension=.4),!1===seriesOption(chart,s,"points")&&(dataset.pointRadius=0,dataset.pointHoverRadius=0),dataset=merge(dataset,chart.options.dataset||{}),dataset=merge(dataset,s.library||{}),dataset=merge(dataset,s.dataset||{}),datasets.push(dataset)}var xmin=chart.options.xmin,xmax=chart.options.xmax,data;if("datetime"===chart.xtype?(notnull(xmin)&&(options.scales.x.ticks.min=toDate(xmin).getTime()),notnull(xmax)&&(options.scales.x.ticks.max=toDate(xmax).getTime())):"number"===chart.xtype&&(notnull(xmin)&&(options.scales.x.ticks.min=xmin),notnull(xmax)&&(options.scales.x.ticks.max=xmax)),"datetime"===chart.xtype&&0===labels.length&&(notnull(xmin)&&labels.push(toDate(xmin)),notnull(xmax)&&labels.push(toDate(xmax)),day=!1,week=!1,month=!1,year=!1,hour=!1,minute=!1),"datetime"===chart.xtype&&labels.length>0){var minTime=(notnull(xmin)?toDate(xmin):labels[0]).getTime(),maxTime=(notnull(xmax)?toDate(xmax):labels[0]).getTime();for(i=1;i<labels.length;i++){var value$1=labels[i].getTime();value$1<minTime&&(minTime=value$1),value$1>maxTime&&(maxTime=value$1)}var timeDiff=(maxTime-minTime)/864e5,step;if(!options.scales.x.time.unit)if(year||timeDiff>3650?(options.scales.x.time.unit="year",step=365):month||timeDiff>300?(options.scales.x.time.unit="month",step=30):day||timeDiff>10?(options.scales.x.time.unit="day",step=1):hour||timeDiff>.5?(options.scales.x.time.displayFormats={hour:"MMM d, h a"},options.scales.x.time.unit="hour",step=1/24):minute&&(options.scales.x.time.displayFormats={minute:"h:mm a"},options.scales.x.time.unit="minute",step=1/24/60),step&&timeDiff>0){var width=chart.element.offsetWidth;if(width>0){var unitStepSize=Math.ceil(timeDiff/step/(width/100));week&&1===step&&(unitStepSize=7*Math.ceil(unitStepSize/7)),options.scales.x.time.stepSize=unitStepSize}}options.scales.x.time.tooltipFormat||(day?options.scales.x.time.tooltipFormat="PP":hour?options.scales.x.time.tooltipFormat="MMM d, h a":minute&&(options.scales.x.time.tooltipFormat="h:mm a"))}return{labels:labels,datasets:datasets}},defaultExport$2=function defaultExport(library){this.name="chartjs",this.library=library};defaultExport$2.prototype.renderLineChart=function renderLineChart(chart,chartType){var chartOptions={};!chart.options.max&&allZeros(chart.data)&&(chartOptions.max=1);var options=jsOptions$2(chart,merge(chartOptions,chart.options));setFormatOptions$1(chart,options,chartType);var data=createDataTable(chart,options,chartType||"line");"number"===chart.xtype?(options.scales.x.type="linear",options.scales.x.position="bottom"):options.scales.x.type="string"===chart.xtype?"category":"time",this.drawChart(chart,"line",data,options)},defaultExport$2.prototype.renderPieChart=function renderPieChart(chart){var options=merge({},baseOptions);chart.options.donut&&(options.cutout="50%"),"legend"in chart.options&&hideLegend$2(options,chart.options.legend),chart.options.title&&setTitle$2(options,chart.options.title),options=merge(options,chart.options.library||{}),setFormatOptions$1(chart,options,"pie");for(var labels=[],values=[],i=0;i<chart.data.length;i++){var point=chart.data[i];labels.push(point[0]),values.push(point[1])}var dataset={data:values,backgroundColor:chart.options.colors||defaultColors},data={labels:labels,datasets:[dataset=merge(dataset,chart.options.dataset||{})]};this.drawChart(chart,"pie",data,options)},defaultExport$2.prototype.renderColumnChart=function renderColumnChart(chart,chartType){var options;if("bar"===chartType){var barOptions=merge(baseOptions,defaultOptions$2);barOptions.indexAxis="y",barOptions.scales.x.grid.drawOnChartArea=!0,barOptions.scales.y.grid.drawOnChartArea=!1,delete barOptions.scales.y.ticks.maxTicksLimit,options=jsOptionsFunc(barOptions,hideLegend$2,setTitle$2,setBarMin$1,setBarMax$1,setStacked$2,setXtitle$2,setYtitle$2)(chart,chart.options)}else options=jsOptions$2(chart,chart.options);setFormatOptions$1(chart,options,chartType);var data=createDataTable(chart,options,"column");"bar"!==chartType&&setLabelSize(chart,data,options),this.drawChart(chart,"bar",data,options)},defaultExport$2.prototype.renderAreaChart=function renderAreaChart(chart){this.renderLineChart(chart,"area")},defaultExport$2.prototype.renderBarChart=function renderBarChart(chart){this.renderColumnChart(chart,"bar")},defaultExport$2.prototype.renderScatterChart=function renderScatterChart(chart,chartType){chartType=chartType||"scatter";var options=jsOptions$2(chart,chart.options);setFormatOptions$1(chart,options,chartType),"showLine"in options||(options.showLine=!1);var data=createDataTable(chart,options,chartType);options.scales.x.type="linear",options.scales.x.position="bottom","mode"in options.interaction||(options.interaction.mode="nearest"),this.drawChart(chart,chartType,data,options)},defaultExport$2.prototype.renderBubbleChart=function renderBubbleChart(chart){this.renderScatterChart(chart,"bubble")},defaultExport$2.prototype.destroy=function destroy(chart){chart.chart&&chart.chart.destroy()},defaultExport$2.prototype.drawChart=function drawChart(chart,type,data,options){if(this.destroy(chart),!chart.destroyed){var chartOptions={type:type,data:data,options:options};chart.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(chartOptions)+");"),chart.element.innerHTML="<canvas></canvas>";var ctx=chart.element.getElementsByTagName("CANVAS")[0];chart.chart=new this.library(ctx,chartOptions)}};var defaultOptions$1={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}},hideLegend$1=function(options,legend,hideLegend){void 0!==legend?(options.legend.enabled=!!legend,legend&&!0!==legend&&("top"===legend||"bottom"===legend?options.legend.verticalAlign=legend:(options.legend.layout="vertical",options.legend.verticalAlign="middle",options.legend.align=legend))):hideLegend&&(options.legend.enabled=!1)},setTitle$1=function(options,title){options.title.text=title},setMin$1,setMax$1,setStacked$1,setXtitle$1,setYtitle$1,jsOptions$1=jsOptionsFunc(defaultOptions$1,hideLegend$1,setTitle$1,(function(options,min){options.yAxis.min=min}),(function(options,max){options.yAxis.max=max}),(function(options,stacked){var stackedValue=stacked?!0===stacked?"normal":stacked:null;options.plotOptions.series.stacking=stackedValue,options.plotOptions.area.stacking=stackedValue,options.plotOptions.areaspline.stacking=stackedValue}),(function(options,title){options.xAxis.title.text=title}),(function(options,title){options.yAxis.title.text=title})),setFormatOptions=function(chart,options,chartType){var formatOptions={prefix:chart.options.prefix,suffix:chart.options.suffix,thousands:chart.options.thousands,decimal:chart.options.decimal,precision:chart.options.precision,round:chart.options.round,zeros:chart.options.zeros};"pie"===chartType||options.yAxis.labels.formatter||(options.yAxis.labels.formatter=function(){return formatValue("",this.value,formatOptions)}),options.tooltip.pointFormatter||(options.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'">‚óè</span> '+formatValue(this.series.name+": <b>",this.y,formatOptions)+"</b><br/>"})},defaultExport$1=function defaultExport(library){this.name="highcharts",this.library=library};defaultExport$1.prototype.renderLineChart=function renderLineChart(chart,chartType){var chartOptions={};"areaspline"===(chartType=chartType||"spline")&&(chartOptions={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),!1===chart.options.curve&&("areaspline"===chartType?chartType="area":"spline"===chartType&&(chartType="line"));var options=jsOptions$1(chart,chart.options,chartOptions),data,i,j;options.xAxis.type="string"===chart.xtype?"category":"number"===chart.xtype?"linear":"datetime",options.chart.type||(options.chart.type=chartType),setFormatOptions(chart,options,chartType);var series=chart.data;for(i=0;i<series.length;i++){if(series[i].name=series[i].name||"Value",data=series[i].data,"datetime"===chart.xtype)for(j=0;j<data.length;j++)data[j][0]=data[j][0].getTime();series[i].marker={symbol:"circle"},!1===chart.options.points&&(series[i].marker.enabled=!1)}this.drawChart(chart,series,options)},defaultExport$1.prototype.renderScatterChart=function renderScatterChart(chart){var options=jsOptions$1(chart,chart.options,{});options.chart.type="scatter",this.drawChart(chart,chart.data,options)},defaultExport$1.prototype.renderPieChart=function renderPieChart(chart){var chartOptions=merge(defaultOptions$1,{});chart.options.colors&&(chartOptions.colors=chart.options.colors),chart.options.donut&&(chartOptions.plotOptions={pie:{innerSize:"50%"}}),"legend"in chart.options&&hideLegend$1(chartOptions,chart.options.legend),chart.options.title&&setTitle$1(chartOptions,chart.options.title);var options=merge(chartOptions,chart.options.library||{});setFormatOptions(chart,options,"pie");var series=[{type:"pie",name:chart.options.label||"Value",data:chart.data}];this.drawChart(chart,series,options)},defaultExport$1.prototype.renderColumnChart=function renderColumnChart(chart,chartType){chartType=chartType||"column";var series=chart.data,options=jsOptions$1(chart,chart.options),i,j,s,d,rows=[],categories=[];for(options.chart.type=chartType,setFormatOptions(chart,options,chartType),i=0;i<series.length;i++)for(s=series[i],j=0;j<s.data.length;j++)rows[(d=s.data[j])[0]]||(rows[d[0]]=new Array(series.length),categories.push(d[0])),rows[d[0]][i]=d[1];"number"===chart.xtype&&categories.sort(sortByNumber),options.xAxis.categories=categories;var newSeries=[],d2;for(i=0;i<series.length;i++){for(d=[],j=0;j<categories.length;j++)d.push(rows[categories[j]][i]||0);d2={name:series[i].name||"Value",data:d},series[i].stack&&(d2.stack=series[i].stack),newSeries.push(d2)}this.drawChart(chart,newSeries,options)},defaultExport$1.prototype.renderBarChart=function renderBarChart(chart){this.renderColumnChart(chart,"bar")},defaultExport$1.prototype.renderAreaChart=function renderAreaChart(chart){this.renderLineChart(chart,"areaspline")},defaultExport$1.prototype.destroy=function destroy(chart){chart.chart&&chart.chart.destroy()},defaultExport$1.prototype.drawChart=function drawChart(chart,data,options){this.destroy(chart),chart.destroyed||(options.chart.renderTo=chart.element.id,options.series=data,chart.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(options)+");"),chart.chart=new this.library.Chart(options))};var loaded={},callbacks=[],defaultOptions={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}},hideLegend=function(options,legend,hideLegend){var position;void 0!==legend?(position=legend?!0===legend?"right":legend:"none",options.legend.position=position):hideLegend&&(options.legend.position="none")},setTitle=function(options,title){options.title=title,options.titleTextStyle={color:"#333",fontSize:"20px"}},setMin,setMax,setBarMin=function(options,min){options.hAxis.viewWindow.min=min},setBarMax=function(options,max){options.hAxis.viewWindow.max=max},setStacked=function(options,stacked){options.isStacked=stacked||!1},setXtitle=function(options,title){options.hAxis.title=title,options.hAxis.titleTextStyle.italic=!1},setYtitle=function(options,title){options.vAxis.title=title,options.vAxis.titleTextStyle.italic=!1},jsOptions=jsOptionsFunc(defaultOptions,hideLegend,setTitle,(function(options,min){options.vAxis.viewWindow.min=min}),(function(options,max){options.vAxis.viewWindow.max=max}),setStacked,setXtitle,setYtitle),resize=function(callback){window.attachEvent?window.attachEvent("onresize",callback):window.addEventListener&&window.addEventListener("resize",callback,!0),callback()},defaultExport=function defaultExport(library){this.name="google",this.library=library};function formatSeriesData(data,keyType){var r=[],j,keyFunc;if(keyFunc="number"===keyType?toFloat:"datetime"===keyType?toDate:toStr,"bubble"===keyType)for(j=0;j<data.length;j++)r.push([toFloat(data[j][0]),toFloat(data[j][1]),toFloat(data[j][2])]);else for(j=0;j<data.length;j++)r.push([keyFunc(data[j][0]),toFloat(data[j][1])]);return"datetime"===keyType?r.sort(sortByTime):"number"===keyType&&r.sort(sortByNumberSeries),r}function detectXType(series,noDatetime,options){return dataEmpty(series)?!options.xmin&&!options.xmax||options.xmin&&!isDate(options.xmin)||options.xmax&&!isDate(options.xmax)?"number":"datetime":detectXTypeWithFunction(series,isNumber)?"number":!noDatetime&&detectXTypeWithFunction(series,isDate)?"datetime":"string"}function detectXTypeWithFunction(series,func){var i,j,data;for(i=0;i<series.length;i++)for(data=toArr(series[i].data),j=0;j<data.length;j++)if(!func(data[j][0]))return!1;return!0}function copySeries(series){var newSeries=[],i,j;for(i=0;i<series.length;i++){var copy={};for(j in series[i])series[i].hasOwnProperty(j)&&(copy[j]=series[i][j]);newSeries.push(copy)}return newSeries}function processSeries(chart,keyType,noDatetime){var i,opts=chart.options,series=chart.rawData;for(chart.singleSeriesFormat=!isArray(series)||"object"!=typeof series[0]||isArray(series[0]),chart.singleSeriesFormat&&(series=[{name:opts.label,data:series}]),series=copySeries(series),i=0;i<series.length;i++)series[i].data=toArr(series[i].data);for(chart.xtype=keyType||(opts.discrete?"string":detectXType(series,noDatetime,opts)),i=0;i<series.length;i++)series[i].data=formatSeriesData(series[i].data,chart.xtype);return series}function processSimple(chart){var perfectData=toArr(chart.rawData),i;for(i=0;i<perfectData.length;i++)perfectData[i]=[toStr(perfectData[i][0]),toFloat(perfectData[i][1])];return perfectData}function dataEmpty(data,chartType){if("PieChart"===chartType||"GeoChart"===chartType||"Timeline"===chartType)return 0===data.length;for(var i=0;i<data.length;i++)if(data[i].data.length>0)return!1;return!0}function addDownloadButton(chart){var element=chart.element,link=document.createElement("a"),download=chart.options.download;!0===download?download={}:"string"==typeof download&&(download={filename:download}),link.download=download.filename||"chart.png",link.style.position="absolute",link.style.top="20px",link.style.right="20px",link.style.zIndex=1e3,link.style.lineHeight="20px",link.target="_blank";var image=document.createElement("img");image.alt="Download",image.style.border="none",image.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAABCFBMVEUAAADMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMywEsqxAAAAV3RSTlMAAQIDBggJCgsMDQ4PERQaHB0eISIjJCouLzE0OTo/QUJHSUpLTU5PUllhYmltcHh5foWLjI+SlaCio6atr7S1t7m6vsHHyM7R2tze5Obo7fHz9ff5+/1hlxK2AAAA30lEQVQYGUXBhVYCQQBA0TdYWAt2d3d3YWAHyur7/z9xgD16Lw0DW+XKx+1GgX+FRzM3HWQWrHl5N/oapW5RPe0PkBu+UYeICvozTWZVK23Ao04B79oJrOsJDOoxkZoQPWgX29pHpCZEk7rEvQYiNSFq1UMqvlCjJkRBS1R8hb00Vb/TajtBL7nTHE1X1vyMQF732dQhyF2o6SAwrzP06iUQzvwsArlnzcOdrgBhJyHa1QOgO9U1GsKuvjUTjavliZYQ8nNPapG6sap/3nrIdJ6bOWzmX/fy0XVpfzZP3S8OJT3g9EEiJwAAAABJRU5ErkJggg==",link.appendChild(image),element.style.position="relative",chart.__downloadAttached=!0,chart.__enterEvent=addEvent(element,"mouseover",(function(e){var related=e.relatedTarget;related&&(related===this||childOf(this,related))||!chart.options.download||(link.href=chart.toImage(download),element.appendChild(link))})),chart.__leaveEvent=addEvent(element,"mouseout",(function(e){var related=e.relatedTarget;related&&(related===this||childOf(this,related))||link.parentNode&&link.parentNode.removeChild(link)}))}function addEvent(elem,event,fn){if(elem.addEventListener)return elem.addEventListener(event,fn,!1),fn;var fn2=function(){return fn.call(elem,window.event)};return elem.attachEvent("on"+event,fn2),fn2}function removeEvent(elem,event,fn){elem.removeEventListener?elem.removeEventListener(event,fn,!1):elem.detachEvent("on"+event,fn)}function childOf(p,c){if(p===c)return!1;for(;c&&c!==p;)c=c.parentNode;return c===p}defaultExport.prototype.renderLineChart=function renderLineChart(chart){var this$1=this;this.waitForLoaded(chart,(function(){var chartOptions={};!1===chart.options.curve&&(chartOptions.curveType="none"),!1===chart.options.points&&(chartOptions.pointSize=0);var options=jsOptions(chart,chart.options,chartOptions),data=this$1.createDataTable(chart.data,chart.xtype);this$1.drawChart(chart,"LineChart",data,options)}))},defaultExport.prototype.renderPieChart=function renderPieChart(chart){var this$1=this;this.waitForLoaded(chart,(function(){var chartOptions={chartArea:{top:"10%",height:"80%"},legend:{}};chart.options.colors&&(chartOptions.colors=chart.options.colors),chart.options.donut&&(chartOptions.pieHole=.5),"legend"in chart.options&&hideLegend(chartOptions,chart.options.legend),chart.options.title&&setTitle(chartOptions,chart.options.title);var options=merge(merge(defaultOptions,chartOptions),chart.options.library||{}),data=new this$1.library.visualization.DataTable;data.addColumn("string",""),data.addColumn("number","Value"),data.addRows(chart.data),this$1.drawChart(chart,"PieChart",data,options)}))},defaultExport.prototype.renderColumnChart=function renderColumnChart(chart){var this$1=this;this.waitForLoaded(chart,(function(){var options=jsOptions(chart,chart.options),data=this$1.createDataTable(chart.data,chart.xtype);this$1.drawChart(chart,"ColumnChart",data,options)}))},defaultExport.prototype.renderBarChart=function renderBarChart(chart){var this$1=this;this.waitForLoaded(chart,(function(){var chartOptions={hAxis:{gridlines:{color:"#ccc"}}},options=jsOptionsFunc(defaultOptions,hideLegend,setTitle,setBarMin,setBarMax,setStacked,setXtitle,setYtitle)(chart,chart.options,chartOptions),data=this$1.createDataTable(chart.data,chart.xtype);this$1.drawChart(chart,"BarChart",data,options)}))},defaultExport.prototype.renderAreaChart=function renderAreaChart(chart){var this$1=this;this.waitForLoaded(chart,(function(){var chartOptions={isStacked:!0,pointSize:0,areaOpacity:.5},options=jsOptions(chart,chart.options,chartOptions),data=this$1.createDataTable(chart.data,chart.xtype);this$1.drawChart(chart,"AreaChart",data,options)}))},defaultExport.prototype.renderGeoChart=function renderGeoChart(chart){var this$1=this;this.waitForLoaded(chart,"geochart",(function(){var chartOptions={legend:"none",colorAxis:{colors:chart.options.colors||["#f6c7b6","#ce502d"]}},options=merge(merge(defaultOptions,chartOptions),chart.options.library||{}),data=new this$1.library.visualization.DataTable;data.addColumn("string",""),data.addColumn("number",chart.options.label||"Value"),data.addRows(chart.data),this$1.drawChart(chart,"GeoChart",data,options)}))},defaultExport.prototype.renderScatterChart=function renderScatterChart(chart){var this$1=this;this.waitForLoaded(chart,(function(){var chartOptions={},options=jsOptions(chart,chart.options,chartOptions),series=chart.data,rows2=[],i,j,data,d;for(i=0;i<series.length;i++)for(series[i].name=series[i].name||"Value",d=series[i].data,j=0;j<d.length;j++){var row=new Array(series.length+1);row[0]=d[j][0],row[i+1]=d[j][1],rows2.push(row)}for((data=new this$1.library.visualization.DataTable).addColumn("number",""),i=0;i<series.length;i++)data.addColumn("number",series[i].name);data.addRows(rows2),this$1.drawChart(chart,"ScatterChart",data,options)}))},defaultExport.prototype.renderTimeline=function renderTimeline(chart){var this$1=this;this.waitForLoaded(chart,"timeline",(function(){var chartOptions={legend:"none"};chart.options.colors&&(chartOptions.colors=chart.options.colors);var options=merge(merge(defaultOptions,chartOptions),chart.options.library||{}),data=new this$1.library.visualization.DataTable;data.addColumn({type:"string",id:"Name"}),data.addColumn({type:"date",id:"Start"}),data.addColumn({type:"date",id:"End"}),data.addRows(chart.data),chart.element.style.lineHeight="normal",this$1.drawChart(chart,"Timeline",data,options)}))},defaultExport.prototype.destroy=function destroy(chart){chart.chart&&chart.chart.clearChart()},defaultExport.prototype.drawChart=function drawChart(chart,type,data,options){this.destroy(chart),chart.destroyed||(chart.options.code&&window.console.log("var data = new google.visualization.DataTable("+data.toJSON()+");\nvar chart = new google.visualization."+type+"(element);\nchart.draw(data, "+JSON.stringify(options)+");"),chart.chart=new this.library.visualization[type](chart.element),resize((function(){chart.chart.draw(data,options)})))},defaultExport.prototype.waitForLoaded=function waitForLoaded(chart,pack,callback){var this$1=this;if(callback||(callback=pack,pack="corechart"),callbacks.push({pack:pack,callback:callback}),loaded[pack])this.runCallbacks();else{loaded[pack]=!0;var loadOptions={packages:[pack],callback:function(){this$1.runCallbacks()}},config=chart.__config();config.language&&(loadOptions.language=config.language),"geochart"===pack&&config.mapsApiKey&&(loadOptions.mapsApiKey=config.mapsApiKey),this.library.charts.load("current",loadOptions)}},defaultExport.prototype.runCallbacks=function runCallbacks(){for(var cb,call,i=0;i<callbacks.length;i++)cb=callbacks[i],(call=this.library.visualization&&("corechart"===cb.pack&&this.library.visualization.LineChart||"timeline"===cb.pack&&this.library.visualization.Timeline||"geochart"===cb.pack&&this.library.visualization.GeoChart))&&(cb.callback(),callbacks.splice(i,1),i--)},defaultExport.prototype.createDataTable=function createDataTable(series,columnType){var i,j,s,d,key,rows=[],sortedLabels=[];for(i=0;i<series.length;i++)for(s=series[i],series[i].name=series[i].name||"Value",j=0;j<s.data.length;j++)d=s.data[j],rows[key="datetime"===columnType?d[0].getTime():d[0]]||(rows[key]=new Array(series.length),sortedLabels.push(key)),rows[key][i]=toFloat(d[1]);var rows2=[],day=!0,value;for(j=0;j<sortedLabels.length;j++)i=sortedLabels[j],"datetime"===columnType?(value=new Date(toFloat(i)),day=day&&isDay(value)):value="number"===columnType?toFloat(i):i,rows2.push([value].concat(rows[i]));if("datetime"===columnType)rows2.sort(sortByTime);else if("number"===columnType){for(rows2.sort(sortByNumberSeries),i=0;i<rows2.length;i++)rows2[i][0]=toStr(rows2[i][0]);columnType="string"}var data=new this.library.visualization.DataTable;for(columnType="datetime"===columnType&&day?"date":columnType,data.addColumn(columnType,""),i=0;i<series.length;i++)data.addColumn("number",series[i].name);return data.addRows(rows2),data};var pendingRequests=[],runningRequests=0,maxRequests=4;function pushRequest(url,success,error){pendingRequests.push([url,success,error]),runNext()}function runNext(){if(runningRequests<4){var request=pendingRequests.shift();request&&(runningRequests++,getJSON(request[0],request[1],request[2]),runNext())}}function requestComplete(){runningRequests--,runNext()}function getJSON(url,success,error){ajaxCall(url,success,(function(jqXHR,textStatus,errorThrown){var message="string"==typeof errorThrown?errorThrown:errorThrown.message;error(message)}))}function ajaxCall(url,success,error){var $=window.jQuery||window.Zepto||window.$;if($&&$.ajax)$.ajax({dataType:"json",url:url,success:success,error:error,complete:requestComplete});else{var xhr=new XMLHttpRequest;xhr.open("GET",url,!0),xhr.setRequestHeader("Content-Type","application/json"),xhr.onload=function(){requestComplete(),200===xhr.status?success(JSON.parse(xhr.responseText),xhr.statusText,xhr):error(xhr,"error",xhr.statusText)},xhr.send()}}var config={},adapters=[];function setText(element,text){document.body.innerText?element.innerText=text:element.textContent=text}function chartError(element,message,noPrefix){noPrefix||(message="Error Loading Chart: "+message),setText(element,message),element.style.color="#ff0000"}function errorCatcher(chart){try{chart.__render()}catch(err){throw chartError(chart.element,err.message),err}}function fetchDataSource(chart,dataSource,showLoading){if(showLoading&&chart.options.loading&&("string"==typeof dataSource||"function"==typeof dataSource)&&setText(chart.element,chart.options.loading),"string"==typeof dataSource)pushRequest(dataSource,(function(data){chart.rawData=data,errorCatcher(chart)}),(function(message){chartError(chart.element,message)}));else if("function"==typeof dataSource)try{dataSource((function(data){chart.rawData=data,errorCatcher(chart)}),(function(message){chartError(chart.element,message,!0)}))}catch(err){chartError(chart.element,err,!0)}else chart.rawData=dataSource,errorCatcher(chart)}function getAdapterType(library){if(library){if("Highcharts"===library.product)return defaultExport$1;if(library.charts)return defaultExport;if(isFunction(library))return defaultExport$2}throw new Error("Unknown adapter")}function addAdapter(library){var adapterType,adapter=new(getAdapterType(library))(library);-1===adapters.indexOf(adapter)&&adapters.push(adapter)}function loadAdapters(){"Chart"in window&&addAdapter(window.Chart),"Highcharts"in window&&addAdapter(window.Highcharts),window.google&&window.google.charts&&addAdapter(window.google)}function renderChart(chartType,chart){if(dataEmpty(chart.data,chartType)){var message=chart.options.empty||chart.options.messages&&chart.options.messages.empty||"No data";setText(chart.element,message)}else callAdapter(chartType,chart),chart.options.download&&!chart.__downloadAttached&&"chartjs"===chart.adapter&&addDownloadButton(chart)}function callAdapter(chartType,chart){var i,adapter,fnName,adapterName;for(fnName="render"+chartType,adapterName=chart.options.adapter,loadAdapters(),i=0;i<adapters.length;i++)if(adapter=adapters[i],(!adapterName||adapterName===adapter.name)&&isFunction(adapter[fnName]))return chart.adapter=adapter.name,chart.__adapterObject=adapter,adapter[fnName](chart);throw adapters.length>0?new Error("No charting library found for "+chartType):new Error("No charting libraries found - be sure to include one before your charts")}var Chart=function Chart(element,dataSource,options){var elementId;if("string"==typeof element&&(elementId=element,!(element=document.getElementById(element))))throw new Error("No element with id "+elementId);this.element=element,this.options=merge(Chartkick.options,options||{}),this.dataSource=dataSource,Chartkick.charts[element.id]=this,fetchDataSource(this,dataSource,!0),this.options.refresh&&this.startRefresh()};Chart.prototype.getElement=function getElement(){return this.element},Chart.prototype.getDataSource=function getDataSource(){return this.dataSource},Chart.prototype.getData=function getData(){return this.data},Chart.prototype.getOptions=function getOptions(){return this.options},Chart.prototype.getChartObject=function getChartObject(){return this.chart},Chart.prototype.getAdapter=function getAdapter(){return this.adapter},Chart.prototype.updateData=function updateData(dataSource,options){this.dataSource=dataSource,options&&this.__updateOptions(options),fetchDataSource(this,dataSource,!0)},Chart.prototype.setOptions=function setOptions(options){this.__updateOptions(options),this.redraw()},Chart.prototype.redraw=function redraw(){fetchDataSource(this,this.rawData)},Chart.prototype.refreshData=function refreshData(){if("string"==typeof this.dataSource){var sep=-1===this.dataSource.indexOf("?")?"?":"&",url;fetchDataSource(this,this.dataSource+sep+"_="+(new Date).getTime())}else"function"==typeof this.dataSource&&fetchDataSource(this,this.dataSource)},Chart.prototype.startRefresh=function startRefresh(){var this$1=this,refresh=this.options.refresh;if(refresh&&"string"!=typeof this.dataSource&&"function"!=typeof this.dataSource)throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId){if(!refresh)throw new Error("No refresh interval");this.intervalId=setInterval((function(){this$1.refreshData()}),1e3*refresh)}},Chart.prototype.stopRefresh=function stopRefresh(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},Chart.prototype.toImage=function toImage(download){if("chartjs"===this.adapter){if(download&&download.background&&"transparent"!==download.background){var canvas=this.chart.canvas,ctx=this.chart.ctx,tmpCanvas=document.createElement("canvas"),tmpCtx=tmpCanvas.getContext("2d");return tmpCanvas.width=ctx.canvas.width,tmpCanvas.height=ctx.canvas.height,tmpCtx.fillStyle=download.background,tmpCtx.fillRect(0,0,tmpCanvas.width,tmpCanvas.height),tmpCtx.drawImage(canvas,0,0),tmpCanvas.toDataURL("image/png")}return this.chart.toBase64Image()}throw new Error("Feature only available for Chart.js")},Chart.prototype.destroy=function destroy(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&removeEvent(this.element,"mouseover",this.__enterEvent),this.__leaveEvent&&removeEvent(this.element,"mouseout",this.__leaveEvent)},Chart.prototype.__updateOptions=function __updateOptions(options){var updateRefresh=options.refresh&&options.refresh!==this.options.refresh;this.options=merge(Chartkick.options,options),updateRefresh&&(this.stopRefresh(),this.startRefresh())},Chart.prototype.__render=function __render(){this.data=this.__processData(),renderChart(this.__chartName(),this)},Chart.prototype.__config=function __config(){return config};var LineChart,PieChart,ColumnChart,BarChart,AreaChart,GeoChart,ScatterChart,BubbleChart,Timeline,Chartkick={LineChart:function(Chart){function LineChart(){Chart.apply(this,arguments)}return Chart&&(LineChart.__proto__=Chart),LineChart.prototype=Object.create(Chart&&Chart.prototype),LineChart.prototype.constructor=LineChart,LineChart.prototype.__processData=function __processData(){return processSeries(this)},LineChart.prototype.__chartName=function __chartName(){return"LineChart"},LineChart}(Chart),PieChart:function(Chart){function PieChart(){Chart.apply(this,arguments)}return Chart&&(PieChart.__proto__=Chart),PieChart.prototype=Object.create(Chart&&Chart.prototype),PieChart.prototype.constructor=PieChart,PieChart.prototype.__processData=function __processData(){return processSimple(this)},PieChart.prototype.__chartName=function __chartName(){return"PieChart"},PieChart}(Chart),ColumnChart:function(Chart){function ColumnChart(){Chart.apply(this,arguments)}return Chart&&(ColumnChart.__proto__=Chart),ColumnChart.prototype=Object.create(Chart&&Chart.prototype),ColumnChart.prototype.constructor=ColumnChart,ColumnChart.prototype.__processData=function __processData(){return processSeries(this,null,!0)},ColumnChart.prototype.__chartName=function __chartName(){return"ColumnChart"},ColumnChart}(Chart),BarChart:function(Chart){function BarChart(){Chart.apply(this,arguments)}return Chart&&(BarChart.__proto__=Chart),BarChart.prototype=Object.create(Chart&&Chart.prototype),BarChart.prototype.constructor=BarChart,BarChart.prototype.__processData=function __processData(){return processSeries(this,null,!0)},BarChart.prototype.__chartName=function __chartName(){return"BarChart"},BarChart}(Chart),AreaChart:function(Chart){function AreaChart(){Chart.apply(this,arguments)}return Chart&&(AreaChart.__proto__=Chart),AreaChart.prototype=Object.create(Chart&&Chart.prototype),AreaChart.prototype.constructor=AreaChart,AreaChart.prototype.__processData=function __processData(){return processSeries(this)},AreaChart.prototype.__chartName=function __chartName(){return"AreaChart"},AreaChart}(Chart),GeoChart:function(Chart){function GeoChart(){Chart.apply(this,arguments)}return Chart&&(GeoChart.__proto__=Chart),GeoChart.prototype=Object.create(Chart&&Chart.prototype),GeoChart.prototype.constructor=GeoChart,GeoChart.prototype.__processData=function __processData(){return processSimple(this)},GeoChart.prototype.__chartName=function __chartName(){return"GeoChart"},GeoChart}(Chart),ScatterChart:function(Chart){function ScatterChart(){Chart.apply(this,arguments)}return Chart&&(ScatterChart.__proto__=Chart),ScatterChart.prototype=Object.create(Chart&&Chart.prototype),ScatterChart.prototype.constructor=ScatterChart,ScatterChart.prototype.__processData=function __processData(){return processSeries(this,"number")},ScatterChart.prototype.__chartName=function __chartName(){return"ScatterChart"},ScatterChart}(Chart),BubbleChart:function(Chart){function BubbleChart(){Chart.apply(this,arguments)}return Chart&&(BubbleChart.__proto__=Chart),BubbleChart.prototype=Object.create(Chart&&Chart.prototype),BubbleChart.prototype.constructor=BubbleChart,BubbleChart.prototype.__processData=function __processData(){return processSeries(this,"bubble")},BubbleChart.prototype.__chartName=function __chartName(){return"BubbleChart"},BubbleChart}(Chart),Timeline:function(Chart){function Timeline(){Chart.apply(this,arguments)}return Chart&&(Timeline.__proto__=Chart),Timeline.prototype=Object.create(Chart&&Chart.prototype),Timeline.prototype.constructor=Timeline,Timeline.prototype.__processData=function __processData(){var i,data=this.rawData;for(i=0;i<data.length;i++)data[i][1]=toDate(data[i][1]),data[i][2]=toDate(data[i][2]);return data},Timeline.prototype.__chartName=function __chartName(){return"Timeline"},Timeline}(Chart),charts:{},configure:function(options){for(var key in options)options.hasOwnProperty(key)&&(config[key]=options[key])},setDefaultOptions:function(opts){Chartkick.options=opts},eachChart:function(callback){for(var chartId in Chartkick.charts)Chartkick.charts.hasOwnProperty(chartId)&&callback(Chartkick.charts[chartId])},destroyAll:function(){for(var chartId in Chartkick.charts)Chartkick.charts.hasOwnProperty(chartId)&&(Chartkick.charts[chartId].destroy(),delete Chartkick.charts[chartId])},config:config,options:{},adapters:adapters,addAdapter:addAdapter,use:function(adapter){return addAdapter(adapter),Chartkick}};return"undefined"==typeof window||window.Chartkick||(window.Chartkick=Chartkick,document.addEventListener("turbolinks:before-render",(function(){Chartkick.destroyAll()})),setTimeout((function(){window.dispatchEvent(new Event("chartkick:load"))}),0)),Chartkick.default=Chartkick,Chartkick}));