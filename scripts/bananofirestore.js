
/* bananofirestore */
function banano_bananofirestore_bananofirestoredb() {var _B=this;_B.__392={};_B.__393="";_B.__394="";_B.__395="";_B.__396="";_B.__397="";_B.__398="";_B.__399="";_B.__39a="";_B.__39b=null;_B.__39c=null;_B.__39d=null;_B.__39e="==";_B.__39f=">";_B.__3a0=">=";_B.__3a1="<";_B.__3a2="<=";_B.__3a3="in";_B.__3a4="array-contains-any";_B.__3a5="array-contains";_B.__3a6="ne";_B.__3a7="asc";_B.__3a8="desc";_B.__3a9="added";_B.__3aa="modified";_B.__3ab="removed";_B.__3ac=null;_B.__3ad=null;_B.__3ae=null;_B.__3af=null;_B.__3b0= new banano_bananofirestore_fbmessaging();_B.__3b1={};_B.__3b2="";_B.__3b3="";_B.initialize=function() {_B.__392={};_B.__393="";_B.__394="";_B.__395="";_B.__396="";_B.__397="";_B.__398="";_B.__399="";_B.__39a="";_B.__3b2="";_B.__39b=firebase;_B.__3b1={};return _B;};_B.connect=function() {if (_B.__393!="") {_B.__392["apiKey"]=_B.__393;}if (_B.__394!="") {_B.__392["authDomain"]=_B.__394;}if (_B.__395!="") {_B.__392["databaseURL"]=_B.__395;}if (_B.__396!="") {_B.__392["projectId"]=_B.__396;}if (_B.__397!="") {_B.__392["storageBucket"]=_B.__397;}if (_B.__398!="") {_B.__392["messagingSenderId"]=_B.__398;}if (_B.__399!="") {_B.__392["appId"]=_B.__399;}if (_B.__39a!="") {_B.__392["measurementId"]=_B.__39a;}if (_B.isconnected(_B)) { return _B;}_B.__39c=_B.__39b["initializeApp"](_B.__392);_B.__3af=_B.__39b["analytics"]();if (_B.__395!="") {_B.__3ad=_B.__39b["database"]();}if (_B.__397!="") {_B.__3ac=_B.__39b["storage"]();_B.__39d=_B.__39c["firestore"]();_B.__39d["settings"]=_B.__3b1;}_B.__3ae=_B.__39b["performance"]();if (_B.__398!="") {_B.__3b0.initialize(_B.__39b,_B.__3b2,_B.__3b3);}return _B;};_B.isconnected=function() {var _apps;_apps=_B.__39b["apps"];if (_apps.length==0) {return false;} else {return true;}};_B.delete=function() {var __8ee;__8ee=_B.__39c["delete"]();return __8ee;};_B.collection=function(__626) {var _lbc;_lbc= new banano_bananofirestore_fbcollection();_lbc.initialize(_B.__39d,__626);return _lbc;};_B.getaccesstoken=function(__61) {var _bo,__8f0;_bo=__61;__8f0=_bo["credential"]["accessToken"];return __8f0;};_B.timestampsinsnapshots=function() {_B.__3b1["timestampsInSnapshots"]=true;return _B;};_B.enablepersistence=function() {var __8f1,__8f2;__8f1={"synchronizeTabs":true};__8f2=_B.__39d["enablePersistence"](__8f1);return __8f2;};_B.disablenetwork=function() {var __8f2;__8f2=_B.__39d["disableNetwork"]();return __8f2;};_B.enablenetwork=function() {var __8f2;__8f2=_B.__39d["enableNetwork"]();return __8f2;};_B.auth=function() {var __8f3;__8f3= new banano_bananofirestore_fbauth();__8f3.initialize(_B.__39c);return __8f3;};_B.getdisplayname=function(_resp) {var _dn;_dn=_resp["displayName"];return _dn;};_B.updatedisplayname=function(_res,__8f6) {var _rec,__8f7;_rec={"displayName":__8f6};__8f7=_res["user"]["updateProfile"](_rec);return __8f7;};_B.fromjson=function(__61) {var _docs,_recs,_userx,_uid,__8fa;_docs=__61["docs"];_recs=[];_recs.length=0;for (var _userxindex=0;_userxindex<_docs.length;_userxindex++) {_userx=_docs[_userxindex];_uid=_userx["id"];__8fa=_userx["data"]();__8fa["id"]=_uid;_recs.push(__8fa);}return _recs;};_B.docchanges=function(__8fb) {var __8fc,__8fd,_recs,_recx,__44c,_doc,__8fe,_uid;__8fc=__8fb;__8fd=__8fc["docChanges"]();_recs=[];_recs.length=0;for (var _recxindex=0;_recxindex<__8fd.length;_recxindex++) {_recx=__8fd[_recxindex];__44c=_recx["type"];_doc=_recx["doc"];__8fe=_doc["data"]();_uid=_doc["id"];__8fe["changetype"]=__44c;__8fe["id"]=_uid;_recs.push(__8fe);}return _recs;};_B.setondocchanges=function(__8fb,__4eb,__78) {var __8fc,__8fd,_recx,__44c,_doc,__8fe,_uid;__78=__78.toLowerCase();__8fc=__8fb;__8fd=__8fc["docChanges"]();for (var _recxindex=0;_recxindex<__8fd.length;_recxindex++) {_recx=__8fd[_recxindex];__44c=_recx["type"];_doc=_recx["doc"];__8fe=_doc["data"]();_uid=_doc["id"];__8fe["changetype"]=__44c;__8fe["id"]=_uid;(function() {if (typeof __4eb[(__78).toLowerCase()]==="function") {var CSr = __4eb[(__78).toLowerCase()](__8fe,_B);if(CSr!=null) {return CSr}}})();}};_B.isremoved=function(_m) {var _ct;_ct=_B.getchangetype(_m,_B);if (_ct=="removed") { return true;}return false;};_B.isadded=function(_m) {var _ct;_ct=_B.getchangetype(_m,_B);if (_ct=="added") { return true;}return false;};_B.ismodified=function(_m) {var _ct;_ct=_B.getchangetype(_m,_B);if (_ct=="modified") { return true;}return false;};_B.getchangetype=function(_item) {var _ct;_ct=_item["changetype"];return _ct;};_B.getid=function(__61) {var _res;_res=__61["id"];return _res;};_B.getmessage=function(__68) {var _res;_res=__68["message"];return _res;};_B.getrecord=function(__61) {var _id,__d7;_id=__61["id"];__d7=__61["data"]();__d7["id"]=_id;return __d7;};_B.getdatabaseref=function(__8ff) {var _bo;_bo=_B.__3ad["ref"](__8ff);return _bo;};_B.databasepush=function(__8ff,__6a) {var _tbl,_bp;_tbl=_B.getdatabaseref(__8ff,_B);_bp=_tbl["push"](__6a);return _bp;};_B.getstorageref=function(__8ff) {var _bo;_bo=_B.__3ac["ref"](__8ff);return _bo;};_B.storageput=function(__8ff,_fo) {var _tbl,_bp;_tbl=_B.getstorageref(__8ff,_B);_bp=_tbl["put"](_fo);return _bp;};_B.getstorageuri=function(__8fb) {var _suri;_suri=__8fb["metadata"]["fullPath"];return _suri;};_B.getdownloadurl=function(__8fb) {var _bp;_bp=__8fb["ref"]["getDownloadURL"]();return _bp;};}function banano_bananofirestore_fbauth() {var _B=this;_B._auth=null;_B.__3b5=null;_B.__3b6=null;_B.__3b7=null;_B.__3b8=null;_B.initialize=function(__39c) {_B._auth=__39c["auth"]();return _B;};_B.signinwithpopupgoogle=function() {var _si;_B.__3b5=new firebase.auth.GoogleAuthProvider();_B.__3b5["addScope"]("https://www.googleapis.com/auth/contacts.readonly");_si=_B._auth["signInWithPopup"](_B.__3b5);return _si;};_B.signinwithpopupfacebook=function() {var _si;_B.__3b6=new firebase.auth.FacebookAuthProvider();_si=_B._auth["signInWithPopup"](_B.__3b6);return _si;};_B.signinwithpopuptwitter=function() {var _si;_B.__3b7=new firebase.auth.TwitterAuthProvider();_si=_B._auth["signInWithPopup"](_B.__3b7);return _si;};_B.signinwithpopupgithub=function() {var _si;_B.__3b8=new firebase.auth.GithubAuthProvider();_si=_B._auth["signInWithPopup"](_B.__3b8);return _si;};_B.signinanonymously=function() {var _si;_si=_B._auth["signInAnonymously"]();return _si;};_B.onauthstatechanged=function(__4eb,__78) {var _user,_cb;__78=__78.toLowerCase();_user={};_cb=function(_user) {if (typeof __4eb[(__78).toLowerCase()]==="function") {return __4eb[(__78).toLowerCase()](_user,_B)};};_B._auth["onAuthStateChanged"](_cb);};_B.getcurrentuser=function() {var __903,_usr;__903=_B._auth["currentUser"];if (is.null(__903) || is.undefined(__903)) { return null;}_usr=_B.getuserdata(__903,_B);return _usr;};_B.getcurrentuid=function() {var _user,_uid;_user=_B.getcurrentuser(_B);_uid=_user["uid"];return _uid;};_B.getuid=function(__905) {var _suid;_suid=__905["uid"];return _suid;};_B.getuser=function(_resp) {var _usr;_usr=_resp["user"];return _usr;};_B.getsignedinuserdetails=function(_user) {var _usr,_usr1;_usr=_B.getuser(_user,_B);_usr1=_B.getuserdata(_usr,_B);return _usr1;};_B.getuserdata=function(_user) {var __905,__8f6,__c,__908,__909,__90a,_uid,__90b;__905={};if (is.null(_user) || is.undefined(_user)) { return __905;}__8f6=_user["displayName"];__c=_user["email"];__908=_user["emailVerified"];__909=_user["photoURL"];__90a=_user["isAnonymous"];_uid=_user["uid"];__90b=_user["phoneNumber"];__905["displayName"]=__8f6;__905["email"]=__c;__905["emailVerified"]=__908;__905["photoURL"]=__909;__905["isAnonymous"]=__90a;__905["uid"]=_uid;__905["phoneNumber"]=__90b;return __905;};_B.createuserwithemailandpassword=function(__5dd,__7) {var __90c;__90c=_B._auth["createUserWithEmailAndPassword"](__5dd,__7);return __90c;};_B.signinwithemailandpassword=function(__5dd,__7) {var __90c;__90c=_B._auth["signInWithEmailAndPassword"](__5dd,__7);return __90c;};_B.signout=function() {var __90c;__90c=_B._auth["signOut"]();return __90c;};_B.sendpasswordresetemail=function(__c) {var __90c;__90c=_B._auth["sendPasswordResetEmail"](__c);return __90c;};_B.sendemailverification=function() {var __90c;__90c=_B._auth["user"]["sendEmailVerification"]();return __90c;};}function banano_bananofirestore_fbcollection() {var _B=this;_B._co=null;_B.__3ba="";_B.initialize=function(__39d,__626) {_B.__3ba=__626;_B._co=__39d["collection"](__626);return _B;};_B.onsnapshot=function(__4eb,__78) {var _docx,_cb;__78=__78.toLowerCase();_docx={};_cb=function(_docx) {if (typeof __4eb[(__78).toLowerCase()]==="function") {return __4eb[(__78).toLowerCase()](_docx,_B)};};_B._co["onSnapshot"](_cb);};_B.add=function(__6a) {var __90e;__90e=_B._co["add"](__6a);return __90e;};_B.doc=function(_pv) {var _docx;_docx= new banano_bananofirestore_fbdocument();_docx.initialize(_B._co,_pv);return _docx;};_B.orderby=function(_fld,__910) {_B._co=_B._co["orderBy"](_fld,__910);return _B;};_B.limit=function(__911) {_B._co=_B._co["limit"](__911);return _B;};_B.get=function() {var __912;__912=_B._co["get"]();return __912;};_B.startat=function(__911) {_B._co=_B._co["startAt"](__911);return _B;};_B.endat=function(__911) {_B._co=_B._co["endAt"](__911);return _B;};_B.where=function(_fld,_oper,__88) {switch ("" + _oper) {case "" + "ne":_B._co=_B._co["where"](_fld,"<",__88);_B._co=_B._co["where"](_fld,">",__88);break;default:_B._co=_B._co["where"](_fld,_oper,__88);break;}return _B;};}function banano_bananofirestore_fbdocument() {var _B=this;_B._doc=null;_B.initialize=function(_co,_pv) {_B._doc=_co["doc"](_pv);return _B;};_B.update=function(__6a) {var __90e;__90e=_B._doc["update"](__6a);return __90e;};_B.delete=function(__913,__914) {var __915;__915=_B._doc["delete"]();return __915;};_B.set=function(__6a) {var __916;__916=_B._doc["set"](__6a);return __916;};_B.get=function() {var __912;__912=_B._doc["get"]();return __912;};}function banano_bananofirestore_fbmessaging() {var _B=this;_B.__3b0=null;_B._key="";_B.__3bc="";_B.__3bd="";_B.initialize=function(_fb,__3b2,_sk) {_B.__3b0=_fb["messaging"]();_B._key=__3b2;_B.__3bc="";_B.__3bd=_sk;return _B;};_B.issubscribed=function(__61) {if ((__61.status<200 || __61.status>=400)) {return false;} else {return true;}};_B.issent=function(__61) {if ((__61.status<200 || __61.status>=400)) {return false;} else {return true;}};_B.requestpermission=function() {var _rp;_rp=_B.__3b0["requestPermission"]();return _rp;};_B.gettoken=function() {var _opt,_t;_opt={};_opt["vapidKey"]=_B._key;_t=_B.__3b0["getToken"](_opt);return _t;};_B.deletetoken=function() {var _dt;_dt=_B.__3b0["deleteToken"](_B.__3bc);return _dt;};_B.deletetokenandwait=async function() {var _done,__919;_done=false;__919=null;__919=_B.deletetoken(_B);_done=await __919;return _done;};_B.settoken=function(__91a) {_B.__3bc=__91a;};_B.onmessage=function(__4eb,__78) {var __91b,_cb;__78=__78.toLowerCase();__91b={};_cb=function(__91b) {if (typeof __4eb[(__78).toLowerCase()]==="function") {return __4eb[(__78).toLowerCase()](__91b,_B)};};_B.__3b0["onMessage"](_cb);};_B.ontokenrefresh=function(__4eb,__78) {var _cb;__78=__78.toLowerCase();_cb=function() {if (typeof __4eb[(__78).toLowerCase()]==="function") {return __4eb[(__78).toLowerCase()](_B)};};_B.__3b0["onTokenRefresh"](_cb);};_B.sendtotoken=function(__91c,__91d,__91e,__8cd,__7f6) {var __1b1,_hdrs,__91f,_body,__920;__1b1={};__1b1={};__1b1.method="POST";__1b1.mode="cors";_hdrs={};_hdrs["Content-Type"]="application/json;";_hdrs["Authorization"]="key="+_B.__3bd;__1b1.headers=_hdrs;__91f={};__91f["title"]=__91d;__91f["body"]=__91e;__91f["icon"]=__7f6;_body={};_body["to"]=__91c;_body["notification"]=__91f;_body["data"]=__8cd;__1b1.body=JSON.stringify(_body);__920={};__920=fetch("https://fcm.googleapis.com/fcm/send",__1b1);return __920;};_B.sendtotokenandwait=async function(__91c,__91d,__91e,__8cd,__7f6) {var __921,__61,__920,_res;__921="";__61={};__920={};__920=_B.sendtotoken(__91c,__91d,__91e,__8cd,__7f6,_B);__61=await __920;_res=await __61.json();if (__61.ok) {__921=_res["message_id"];}return __921;};_B.sendtotopic=function(__922,__91d,__91e,__8cd,__7f6) {var __1b1,_hdrs,__91f,_body,__920;__1b1={};__1b1={};__1b1.method="POST";__1b1.mode="cors";_hdrs={};_hdrs["Content-Type"]="application/json;";_hdrs["Authorization"]="key="+_B.__3bd;__1b1.headers=_hdrs;__91f={};__91f["title"]=__91d;__91f["body"]=__91e;__91f["icon"]=__7f6;_body={};_body["to"]="/topics/" + __922 + "";_body["data"]=__8cd;_body["notification"]=__91f;__1b1.body=JSON.stringify(_body);__920={};__920=fetch("https://fcm.googleapis.com/fcm/send",__1b1);return __920;};_B.sendtotopicandwait=async function(__922,__91d,__91e,__8cd,__7f6) {var __921,__61,__920,_res;__921="";__61={};__920={};__920=_B.sendtotopic(__922,__91d,__91e,__8cd,__7f6,_B);__61=await __920;_res=await __61.json();if (__61.ok) {__921=_res["message_id"];}return __921;};_B.validatetoken=function() {var __920,__1b1,_hdrs,__923;__920={};__1b1={};__1b1={};__1b1.method="GET";__1b1.mode="cors";_hdrs={};_hdrs["Content-Type"]="application/json;";_hdrs["Authorization"]="key="+_B.__3bd;__1b1.headers=_hdrs;__923="https://iid.googleapis.com/iid/info/" + _B.__3bc + "";__920=fetch(__923,__1b1);return __920;};_B.validatetokenandwait=async function(__922) {var _done,__920;_done=false;__920={};__920=_B.validatetoken(_B);_done=await __920;return _done;};_B.subscribe=function(__922) {var __920,__1b1,_hdrs,__923;__920={};__922=__922.trim();if (__922=="") { return __920;}__1b1={};__1b1={};__1b1.method="POST";__1b1.mode="cors";_hdrs={};_hdrs["Content-Type"]="application/json;";_hdrs["Authorization"]="key="+_B.__3bd;__1b1.headers=_hdrs;__923="https://iid.googleapis.com/iid/v1/" + _B.__3bc + "/rel/topics/" + __922 + "";__920=fetch(__923,__1b1);return __920;};_B.subscribeandwait=async function(__922) {var _done,__920;_done=false;__920={};__920=_B.subscribe(__922,_B);_done=await __920;return _done;};_B.unsubscribeandwait=async function(__922) {var _done,__920;_done=false;__920={};__920=_B.unsubscribe(__922,_B);_done=await __920;return _done;};_B.unsubscribe=function(__922) {var __920,__1b1,_hdrs,__923;__920={};__922=__922.trim();if (__922=="") { return __920;}__1b1={};__1b1={};__1b1.method="DELETE";__1b1.mode="cors";_hdrs={};_hdrs["Content-Type"]="application/json;";_hdrs["Authorization"]="key="+_B.__3bd;__1b1.headers=_hdrs;__923="https://iid.googleapis.com/iid/v1/" + _B.__3bc + "/rel/topics/" + __922 + "";__920=fetch(__923,__1b1);return __920;};_B.createtopic=function(__922) {var __920,__1b1,_body,_hdrs;__920={};__922=__922.trim();if (__922=="") { return __920;}__1b1={};__1b1={};__1b1.method="POST";__1b1.mode="cors";_body={};_body["to"]="/topics/" + __922 + "";_body["registration_tokens"]=[_B.__3bc];__1b1.body=JSON.stringify(_body);_hdrs={};_hdrs["Content-Type"]="application/json;";_hdrs["Authorization"]="key="+_B.__3bd;__1b1.headers=_hdrs;__920=fetch("https://iid.googleapis.com/iid/v1:batchAdd",__1b1);return __920;};_B.createtopicandwait=async function(__922) {var _done,__920;_done=false;__920={};__920=_B.createtopic(__922,_B);_done=await __920;return _done;};_B.removetopic=function(__922) {var __920,__1b1,_body,_hdrs;__920={};__922=__922.trim();if (__922=="") { return __920;}__1b1={};__1b1={};__1b1.method="POST";__1b1.mode="cors";_body={};_body["to"]="/topics/" + __922 + "";_body["registration_tokens"]=[_B.__3bc];__1b1.body=JSON.stringify(_body);_hdrs={};_hdrs["Content-Type"]="application/json;";_hdrs["Authorization"]="key="+_B.__3bd;__1b1.headers=_hdrs;__920=fetch("https://iid.googleapis.com/iid/v1:batchRemove",__1b1);return __920;};_B.removetopicandwait=async function(__922) {var _done,__920;_done=false;__920={};__920=_B.removetopic(__922,_B);_done=await __920;return _done;};_B.getsubscriptions=function() {var __1b1,_hdrs,__923,__920;__1b1={};__1b1={};__1b1.method="GET";__1b1.mode="cors";_hdrs={};_hdrs["Content-Type"]="application/json;";_hdrs["Authorization"]="key="+_B.__3bd;__1b1.headers=_hdrs;__923="https://iid.googleapis.com/iid/info/" + _B.__3bc + "?details=true";__920={};__920=fetch(__923,__1b1);return __920;};_B.subscribetotopicsandwait=async function(__924) {var __925,_strtopic,__920,__926;__925=[];__925.length=0;for (var _strtopicindex=0;_strtopicindex<__924.length;_strtopicindex++) {_strtopic=__924[_strtopicindex];__920=_B.subscribe(_strtopic,_B);__925.push(__920);}__926=[];__926=await Promise.all(__925);return true;};_B.getsubscriptionsandwait=async function() {var __927,__61,__920,_res,_rel;__927={};__61={};__920={};__920=_B.getsubscriptions(_B);__61=await __920;_res=await __61.json();_rel=_res["rel"];__927=_rel["topics"];return __927;};_B.gettokenandwait=async function() {var __8f0,__920;__8f0="";__920={};__920=_B.gettoken(_B);__8f0=await __920;return __8f0;};}